<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>BetterScroll</title>
    <style>
        .wrapper {
            height: 200px;
            background-color: red;
            overflow: hidden;
        }
    </style>
  </head>
  <body>
      <button class="btn">按钮</button>
      <div class="wrapper"><ul class="content">
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
          <li>asfdafdaf</li>
      </ul></div>
    <script src="./bscroll.js"></script>
    <script>
        const bscroll = new BScroll(document.querySelector('.wrapper'), {
            probeType: 3,
            click: true,
            pullUpLoad: true
        });
        // 默认情况下BScroll是不可以实时的监听滚动位置
        // probe 侦测
        // 0,1都是不侦测实时的位置
        // 2: 在手指滚动的过程中侦测, 手指离开后的惯性滚动过程中不侦测.
        // 3: 只要是滚动, 都侦测.
        bscroll.on('scroll',(position) => {
            // console.log(position);
        });
        bscroll.on('pullingUp', () => {
            console.log('上拉加载更多');
            // 发送网络请求, 请求更多页的数据

            // 等数据请求完成, 并且将新的数据展示出来后
            setTimeout(() => {
                bscroll.finishPullUp()//表示上拉加载已完成可进行下一次上拉加载更多
            }, 2000)
        })
        document.querySelector('.btn').addEventListener('click', function () {
            console.log('------');
        })
    </script>
  </body>
</html>